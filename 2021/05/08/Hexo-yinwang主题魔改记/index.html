<html>
<head>
	
    <style type="text/css"> img { max-width: 80%; } </style>

	<title>Hexo-yinwang主题魔改记</title>
	<meta name="keywords" content="" />

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
	   <link href="/css/main.css?v=3" rel="stylesheet" type="text/css" />
    
        
<script src="/js/util.js"></script>

        <script>
            if(isMobile()) {
                loadjscssfile('../css/mobile.css', 'css');
            } else {
                loadjscssfile('../css/desktop.css', 'css');
            }
        </script> 
    

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed">

    
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=3"/>
    
    


    <!-- fancybox support -->
    
    
    
<script src="/js/jquery.min.js"></script>

    
<link rel="stylesheet" href="/css/jquery.fancybox.min.css">

    
<script src="/js/jquery.fancybox.min.js"></script>

    
<script src="/js/fancybox.js"></script>


    
<meta name="generator" content="Hexo 5.4.0"></head>

<body>


<h2 class="title">Hexo-yinwang主题魔改记</h2>
<!--
<div style="text-align:center;margin-top: -10px;">
<div class="article-category">
发表于2021年5月8日




 </div>
-->
</div>

<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8hexo-addlink%E6%B7%BB%E5%8A%A0%E5%BA%95%E9%83%A8%E7%89%88%E6%9D%83%E7%94%B3%E6%98%8E"><span class="toc-text">使用hexo-addlink添加底部版权申明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Gitment%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD"><span class="toc-text">使用Gitment添加评论功能</span></a></li></ol>
<h3 id="使用hexo-addlink添加底部版权申明"><a href="#使用hexo-addlink添加底部版权申明" class="headerlink" title="使用hexo-addlink添加底部版权申明"></a>使用hexo-addlink添加底部版权申明</h3><p>1.使用<code>Git bash</code>打开博客目录，输入<code>npm install hexo-addlink --save</code>安装addlink插件</p>
<p>2.编辑博客的<code>_config.yml</code>配置文件，尾部添加：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">addlink:</span><br><span class="line">  before_text: &lt;div&gt;&lt;ul class&#x3D;&quot;post-copyright&quot;&gt;&lt;li&gt;&lt;strong&gt;本文作者&lt;&#x2F;strong&gt;：hi2049&lt;&#x2F;li&gt;&lt;li&gt;&lt;strong&gt;本文链接&lt;&#x2F;strong&gt;：</span><br><span class="line">  after_text: &lt;&#x2F;li&gt;&lt;li class&#x3D;&quot;post-copyright-license&quot;&gt;&lt;strong&gt;版权声明：&lt;&#x2F;strong&gt;本博客所有文章除特别声明外，均采用 &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;creativecommons.org&#x2F;licenses&#x2F;by-nc-sa&#x2F;4.0&#x2F;deed.zh&quot; rel&#x3D;&quot;noopener&quot; target&#x3D;&quot;_blank&quot;&gt;&lt;i&gt;BY-NC-SA&lt;&#x2F;i&gt;&lt;&#x2F;a&gt; 许可协议。转载请注明出处！&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>3.修改<code>\node_modules\hexo-addlink\index.js</code>中的<code>hrefText</code>变量为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var hrefText &#x3D;&#39;&lt;hr&#x2F;&gt;&#39;+beforeText + &#39;&lt;a href&#x3D;&quot;&#39; + href + &#39;&quot;&gt;&#39;+href+&#39;&lt;&#x2F;a&gt;&#39;  + afterText;</span><br></pre></td></tr></table></figure>

<p>4.修改主题目录下的<code>\source\css\_common\components\common.styl</code>，添加：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.post-copyright &#123;</span><br><span class="line">  background-color: #f9f9f9;</span><br><span class="line">  border-left: 3px solid #ff1700;</span><br><span class="line">  list-style: none;</span><br><span class="line">  margin: 2em 0 0;</span><br><span class="line">  padding: 0.5em 1em;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5.使用<code>hexo cl</code>、<code>hexo g</code>重新生成页面即可</p>
<h3 id="使用Gitment添加评论功能"><a href="#使用Gitment添加评论功能" class="headerlink" title="使用Gitment添加评论功能"></a>使用Gitment添加评论功能</h3><blockquote>
<p>参考<a target="_blank" rel="noopener" href="https://www.v2ex.com/t/352545">https://www.v2ex.com/t/352545</a></p>
</blockquote>
<p>1.注册<a target="_blank" rel="noopener" href="https://github.com/settings/applications/new">OAuth Application</a>，输入以下的内容：</p>
<p>Application name 任意都行</p>
<p>Homepage URL 博客地址</p>
<p>Application description 任意都行</p>
<p>Authorization callback URL 博客地址</p>
<p>输入完成之后，点击注册就完成了。成功之后就会拿到Client ID和Client Secret，</p>
<p>2.安装Gitment：<br>使用<code>Git bash</code>打开博客目录，输入<code>npm i --save gitment</code>安装Gitment插件</p>
<p>3.在主题的<code>_config.yml</code>配置文件尾部添加以下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">gitment:</span><br><span class="line">  enable: true</span><br><span class="line">  mint: true # RECOMMEND, A mint on Gitment, to support count, language and proxy_gateway</span><br><span class="line">  count: true # Show comments count in post meta area</span><br><span class="line">  lazy: false # Comments lazy loading with a button</span><br><span class="line">  cleanly: false # Hide &#39;Powered by ...&#39; on footer, and more</span><br><span class="line">  language: # Force language, or auto switch by theme</span><br><span class="line">  github_user: &#123;you github user id&#125;</span><br><span class="line">  github_repo: 随便写一个你的公开的git仓库就行,到时候评论会作为那个项目的issue</span><br><span class="line">  client_id: &#123;刚才申请的ClientID&#125;</span><br><span class="line">  client_secret: &#123;刚才申请的Client Secret&#125;</span><br><span class="line">  proxy_gateway: # Address of api proxy, See: https:&#x2F;&#x2F;github.com&#x2F;aimingoo&#x2F;intersect</span><br><span class="line">  redirect_protocol: # Protocol of redirect_uri with force_redirect_protocol when mint enabled</span><br></pre></td></tr></table></figure>

<hr/><div><ul class="post-copyright"><li><strong>本文作者</strong>：hi2049</li><li><strong>本文链接</strong>：<a href="http://hi2049cn.github.io/2021/05/08/Hexo-yinwang主题魔改记/">http://hi2049cn.github.io/2021/05/08/Hexo-yinwang主题魔改记/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i>BY-NC-SA</i></a> 许可协议。转载请注明出处！</li></ul></div>

<!--<a href="http://hi2049cn.github.io/2021/05/08/Hexo-yinwang%E4%B8%BB%E9%A2%98%E9%AD%94%E6%94%B9%E8%AE%B0/#disqus_thread" class="article-comment-link">Comments</a>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = ''; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
-->


<link rel="stylesheet" href="/css/gitalk.css">
<script src="/js/md5.min.js"></script>
<script src="/js/gitalk.min.js"></script>

<!--
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script src="/js/md5.min.js"></script>
-->

<section id="comments">
    <div class="gitalk" style="width:80%;margin:auto;">
      <div id="gitalk-container"></div>
      <script type="text/javascript">
        var gitalk = new Gitalk({
          clientID: 'c3e146ce2d00ca6661c7',
          clientSecret: '15d510de27b99abd67e311c45c133aec123f94a4',
          repo: 'hi2049blogcomment',
          owner: 'hi2049cn',
          admin: ['hi2049cn'],
          id: md5(location.pathname),      // Ensure uniqueness and length less than 50
          distractionFreeMode: false  // Facebook-like distraction free mode
        })
        gitalk.render('gitalk-container')
      </script>
    </div>
  </section>






</body>
</html>